<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml11-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>GNUMP3d - Indexing Your Music - GNU Project - Free Software Foundation (FSF)</title>
<meta content="Steve Kemp" name="author" />
<style type="text/css" media="all">@import url(style.css);</style>
<link rel="icon" href="/favicon.ico" type="image/ico" />
</head>
<body bgcolor="#ffffff">

<table width="99%" align="center" cellpadding="0" cellspacing="0" border="0"><tr>
<td valign="top" rowspan="5" width="200">
<img src="http://www.gnu.org/graphics/gnu-head-sm.jpg" width="129" height="122" />
<p><b>GNU</b></p>
<ul>
<li><a href="/">GNU Project</a></li>
<li><a href="http://www.gnu.org/philosophy/free-sw.html" title="Read about what Free Software is">Free Software</a></li>
</ul>

<p><b>GNUMP3d</b></p>
<ul>
<li><a href="index.html">About</a></li>
<li> <a href="documents.html">Documentation</a> </li>
<li> <a href="lists.html">Mailing Lists</a> </li>
<li> <a href="FAQ.html">FAQ</a> </li>
<li> <a href="download.html">Download</a> </li>
<li> <a href="cvs.html">CVS</a> </li>
<li> <a href="developer.html">Developers</a> </li>
<li> <a href="screenshots.html">Screenshots</a> </li>
<li> <a href="logos.html">Logos</a> </li>
<li> <a href="bugs.html">Bugs</a> </li>
<li> <a href="links.html">Links</a> </li>
<li> <a href="thanks.html">Thanks</a> </li>
<li> <a href="history.html">History</a> </li>
<li> <a href="dedication.html">Dedication</a> </li>
</ul>

<p><b>Interact</b></p>
<ul>
<li><a href="http://gnump3d.sourceforge.net/forum/">Forums</a></li>
<li><a href="http://gnump3d.sourceforge.net/cgi-bin/guestbook.cgi?type=view&amp;images=no">View Guestbook</a></li>
<li><a href="http://gnump3d.sourceforge.net/cgi-bin/guestbook.cgi">Sign Guestbook</a></li>
</ul>
</td>
<td valign="top">

<!-- Page content -->
<a name="gnump3d-index"><!-- Anchor--></a>

<h3><a name="TOC18">Indexing Your Music</a></h3>

<p>&nbsp;One of the goals of the <a href="version2.html#version2">version 2 rewrite</a> was to investigate ways of speeding up the server, and working with databases.</p>
<p>&nbsp;To that end GNUMP3d v2.5 and higher will no longer directly read the song tags from your audio files upon each directory access, instead song tags are read from a &quot;database file&quot;</p>
<p>&nbsp;When the server starts it will index all the files which are found beneath your defined 'root' directory - writing out the filename and tag informatin from each file it finds.</p>
<p>&nbsp;At any time you may update the database by manually running the installed script 'gnump3d-index', this script may also give you statistics upon your archive if you run with the '--stats' argument:</p>

<pre>
skx@hell:~$ gnump3d-index  --stats
Beneath /home/mp3 there are:
505 audio files - totalling 2GB.
</pre>

<p>&nbsp;The song tag information is then used for searching your archive via the search plugin, and for building up the web interface.</p>
<p>&nbsp;(The database is currently nothing more sophisticated than a flat file which you may view with your favourite text editor if you wish.  It is entirely possible that the information will be <i>optionally</i> stored in a real database in the future.)</p>
<p>&nbsp;To control where the database resides you may specify it's path within the <a href="config.html#Config">gnump3d.conf</a> file - using the setting below:</p>
<pre>
#
#  As a speedup and optimisation song tag is read via a companion script
# which is called 'gnump3d-index'.  This will be run automatically when
# the server starts if possible.
#
#  This next setting controls where that script will write its tag database
# to.
#
tag_cache = /var/cache/gnump3d/song.tags
</pre>
<p>&nbsp;To keep this database up to date when you install the server it is recommended that you add a cron job to re-index your music once a day, or so.  (The <a href="http://www.debian.org/">Debian GNU/Linux</a> package will do this automatically when it is installed).</p>


</td></tr></table>
<p><hr /></p>
<table width="100%">
<tr>
<td align="left" valign="top"><strong>Steve Kemp</strong><br /><strong>&lt;<a href="mailto:&#103;&#110;&#117;&#109;&#112;&#51;&#100;&#64;&#115;&#116;&#101;&#118;&#101;&#46;&#111;&#114;&#103;&#46;&#117;&#107;">&#103;&#110;&#117;&#109;&#112;&#51;&#100;&#64;&#115;&#116;&#101;&#118;&#101;&#46;&#111;&#114;&#103;&#46;&#117;&#107;</a>&gt;</strong><br />
Page Last modified : 15 October 2003
</td>
<td>&nbsp;</td>
<td align="right" valign="top">
Copyright (c) 2001,2002,2003 Steve Kemp<br />
Verbatim copying and distribution of this entire page is permitted in any medium,<br/> provided this notice is preserved.<br />
</td></tr></table>
</body></html>
