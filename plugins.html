<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>GNUMP3d [GNU MP3/Media Streamer] - Plugin Development Notes - GNU Project - Free Software Foundation (FSF)</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style type="text/css" media="all">@import url(style.css);</style>
</head>
<body>
	<div id="oldbrowser">
		<p>

			This site will look much better in a browser that supports
			<a href="http://www.webstandards.org/upgrade/"
			title="Download a browser that complies with Web standards.">web
			standards</a>, but it is accessible to any browser or Internet
			device.
		</p>
	</div>
	<div id="masthead">
		<p align="center"><img src="gnump3d.jpg">
	</div>
	<div id="pagemenu">
		<div id="menuframe">
<div><a href="index.html">Index</a></div>
<div> <a href="documents.html">Documentation</a> </div>
<div> <a href="lists.html">Mailing Lists</a> </div>
<div> <a href="FAQ.html">FAQ</a> </div>
<div> <a href="download.html">Download</a> </div>
<div> <a href="cvs.html">CVS</a> </div>
<div> <a href="developer.html">Developers</a> </div>
<div> <a href="screenshots.html">Screenshots</a> </div>
<div> <a href="logos.html">Logos</a> </div>
<div> <a href="bugs.html">Bugs</a> </div>
<div> <a href="links.html">Links</a> </div>
<div> <a href="thanks.html">Thanks</a> </div>
<div> <a href="history.html">History</a> </div>
<div> <a href="dedication.html">Dedication</a> </div>
		</div>
	</div>
	<div id="pagebodyframe">

		<div id="pagebody">
<a name="Plugins"><!-- Anchor--></a>

<h3><a name="TOC74">Plugin Development Notes.</a></h3>


<h4><a name="TOC75">GNUMP3d Plugin Support</a></h4>
<p>&nbsp;GNUMP3d now has support for external plugins, which are Perl modules loaded upon demand by the server when incoming requests are recieved.</p>
<p>&nbsp;The plugins may extend the server by handling the processing of a given URL.  When an incoming request is made each of the loaded plugins is given the opertunity to handle it, if none does so then the request is handled by the server proper.</p>
<p>&nbsp;Included with each release are several 'core' plugins - these plugins are all considered to be part of the core of the server, because they're linked to from the included templates.  However if you wish to remove them you're entirely welcome to do so.</p>
<p>&nbsp;Core plugins include:</p>
<ul>
<li>A plugin which handles the server statistics: '/stats/'</li>
<li>A plugin which will display the last 20 tracks served '/last/'.</li>
<li>A plugin for searching your archive for music '/search/'.</li>
</ul>


<h4><a name="TOC76">How it all works</a></h4>
<p>&nbsp;Currently the plugin system is rather simplistic, it assumes that the name of a plugin matches the path upon the server which it handles.</p>
<p>&nbsp;For example a plugin to handle the path "/stats/" must be called "stats.pm".</p>
<p>&nbsp;This will change in the near future - although I will ensure that all user contributed plugins are updated to work with the new system when it is ready.</p>

<h4><a name="TOC77">Creating A Plugin</a></h4>
<p>&nbsp;This is the simple overview for creating a plugin, there's a more
 detailed <a href="ptutorial.html#plugin-tutorial">plugin creation tutorial</a> if you'd
 like step by step instructions.</p>
<p>&nbsp;In brief a plugin is a  Perl Module which lives in the 'lib/gnump3d/pluguins/' directory.  (Note that the plugin directory can be changed from the configuration file, or the command line).</p>
<p>&nbsp;To add a new plugin simply create the file 'lib/gnump3d/plugins/foo.pm', making sure that you include the required functions.</p>

<p>&nbsp;Your plugin will be called once for each incoming request
 which matches the path it handles, where it will be assumed that the request was handled..</p>
<p>&nbsp;Have a look at the source to the included plugins for more details,
 '<a href="http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/gnump3d/gnump3d/lib/gnump3d/plugins/COPYING.pm?rev=HEAD">COPYING.pm</a>' is the simplest plugin, (it just displays the GNU Public License, regardless of how it was called).</p>

<h4><a name="TOC78">Todo</a></h4>
<p>&nbsp;1. I need to plan plugin priorities.  What should happen if multiple
 plugins all claim a given path?</p>
<p>&nbsp;2. Could plugins be called for more than just regexps on the request path?</p>


		</div>
	</div>
	<div id="footer">
		<hr />

		<div id="validxhtml">
			<a href="http://validator.w3.org/check/referer"><img
				src="http://www.w3.org/Icons/valid-xhtml10.png"
				alt="Valid XHTML 1.0!" height="31" width="88" /></a>
		</div>
		<div id="copyright">
			<span id="copyrightprefix">Copyright (c) 2001,2002,2003,2004 <a href="http://www.steve.org.uk/">Steve Kemp</a><spam>
			<p>Verbatim copying and distribution of this entire page is permitted in any medium,<br/> provided this notice is preserved.</p>
			<p>Page Last modified : 14 March 2004
</p>
		</div>

	</div>
</body>
</html>
